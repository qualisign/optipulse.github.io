Mesh Market: A Platform Business for the People, by the People

With Mesh Market, you can:
- get cheaper, better internet service
- start a do-it-yourself ISP
- start a profitable energy business from your own home
- reduce your electricity bills while supporting renewable energy
- do countless other things we haven't thought of, and some we have (check out more use cases)

* Introduction

Mesh Market is a free application aiming to:

- introduce the benefit of peer-to-peer goods and services to the public at large
- enable consumers to find friendlier and cheaper local alternatives to centrally-owned, inefficient resources
- accelerate deployment and improve market viability of beneficial technologies by providing them with a direct-to-consumer platform

Most aspects of this idea haven't achieved finality, though the above seems to be a good starting point.  Open discussion between experts across various fields will be needed to
design and build this app as well as form a business that can support it.

Check out the prototype (under construction):
https://optipulse.github.io

(Needless to say, this represents an early stage of the front-end and is only for the sake of illustration.  It isn't yet able to handle transactions.)

* Background
** Platform Business
*** Overview
A platform business erases the distinction between producers and consumers of goods and services.  It does this by providing consumers with a platform for creating their own value.
This often has the side effect of uncovering value previously unrecognized in the economy, mainly because it is in the hands of consumers.  Uber and AirBnB do not own the means of production typically necessary for transportation and
real-estate companies, respectively - but they and many more companies (Facebook, YouTube, etc) have experienced unparalleled growth by connecting customers with one another.  As Tech Crunch put it,
"Uber, the world’s largest taxi company, owns no vehicles. Facebook, the world’s most popular media owner, creates no content. Alibaba, the most valuable retailer, has no inventory. And Airbnb, the world’s largest accommodation provider, owns no real estate. Something interesting is happening.".

This trend is likely to intensify in the coming years, for the ease of access to information that drives it undoubtedly will.  But as we've seen lately with Uber and AirBnB's legal battles, this probably won't happen unopposed - and
in many cases merited this opposition is merited.  The 'Invisible Hand' is just as unlikely to guide a giant platform as it is a giant pipeline to make even minimally altruistic decisions at the expense of profit.  Examples aren't hard to find in current news headlines; in Britain, regulators are taking issue with
the convenience with which Uber can hire full-time workers without taking on the responsibilities of a full-time employer.  Contractors also complain about the substantial cut it takes from drivers, typically 20%, which
indeed seems like a lot for just offering an app.  Of course, platform businesses facing such criticism seek to identify themselves with the larger picture -- the sharing economy that consumers are so keen on.
AirBnb, for instance, is promoting a global consumer movement as a shield to their their legal woes.  We will see how successful this is in the coming years, but one question that doesn't seem to have been
asked often may be pertinent: if so many people are willing to organize to the defense of admittedly imperfect platforms they've come to rely on, why can't these same people
organize behind a better platform?

*** A Platform to End Platforms

** Mesh Networking
Before we discuss how Mesh Market makes it so easy to decentralize resources, we need to explain the role that mesh networking plays.

According to Wikipedia, "A mesh network is a network topology in which each node relays data for the network. All mesh nodes cooperate in the distribution of data in the network."

In other words, mesh networks get rid of centralized computing resources in favor of distributed networks.

Mesh Market takes this concept to the next level and seeks to decentralize all resources (insofar as that's possible).

The goal of this app is to develop OptiPulse unique potential for revolutionizing the mesh/ad-hoc networking market with its Light Grid technology.  While the mesh-networking
userbase is presently miniscule compared to that of conventional, centrally serviced connections (usually provided by one of only a few differnet ISP's), meshes offer many advantages
over heterogeneous networks, making them the ideal network topology for future networks needing to prioritize scalability.  There are many articles/papers weighing these advantages, so I will only briefly discuss them here.

*** Advantages
**** Scalability:
Adding more devices to the network tends to improve mesh connections, in contrast to star topologies.  More devices connected to a mesh network locally means more possible paths from which internet traffic can be routed.
**** Robustnesss:
There is no central point of failure in a mesh network.  Power outages, network attacks, and threats to single nodes have no way of circulating and infecting the entire network, as in a star topology.
Those who were able to get WIFI in the aftermath of Hurricane Sandy know this isn't mere speculation.  http://techpresident.com/news/23127/red-hook-mesh-network-connects-sandy-survivors-still-without-power

**** Decentralization/Democritization:
It is also virtually impossible to "shut down" a distributed network as happened during the popular uprising in Egypt during the Arab Spring in 2011. Without the imperitave for centrally-
connected hubs, disrupting connections becomes very hard to achieve.
http://europe.newsweek.com/dictator-proofing-internet-68705?rm=eu

That authorities might cut off the internet is significantly less likely in countries without the egregious network collusion with government that we
see in many developing countries http://fortune.com/2015/12/08/donald-trump-bill-gates-internet/.  Such countries may turn out to be some of the
best candidate for demonstrating the power of decentralized markets for effecting positive social change.

One criticism of the idea that mesh networks could make the internet impervious to control by dictators is that WIFI signals can be traced and individuals can be targeted even
if the network is a mesh https://www.schneier.com/blog/archives/2012/12/dictators_shutt.html#c1034991.  This criticism would not apply to a network using OptiPulse's
technology, since its point-to-point signals are not broadcast and would be very difficult to intercept.

*** Disadvantages, Obstacles
There are also several difficulties associated with meshes that shouldn't be overlooked.  Some of these may be mitigated by the design of an app fulfilling many
functions normally assigned to the network administrator, while others may be reducable to inadequacies of current physical layer internet technologies that OptiPulse's
Light Grid may improve on.
**** Power Consumption
This is listed as a disadvantage, but OptiPulse's Light Grid requires very low power consumption, which may make it an enabling technology for mesh networks.
**** Latency
Likewise, this is listed as a disadvantage, but a copious amount of bandwidth is one of the Light Grid's chief assets.
**** Requisite Technical Competence
Currently, most mesh networking protocols are available solely as command line tools for Unix-like operating systems.  As it stands, this significantly reduces the class of users
capable of connecting to a mesh network.
**** Opposition from Established Middlemen
Analagous to the situation faced by Tesla due to their direct-to-consumer market, those who normally take a large share of the profits by acting as middle-men
between the consumer and the product/service stand to lose much in a decentralized consumer-to-consumer market.  This means that, just as Tesla sales have been
blocked in certain states due to the threat it poses to the established car-dealership model (https://electrek.co/2016/05/01/tesla-gm-direct-sales-connecticut/),
a mesh-networking platform with a chance of succeeding may raise the defenses of ISP's. This possibility should be discussed in more detail.  It seems to me that
the case against a mesh-networks would be much more difficult to make, and legal challenges are unlikely to pose a sustained threat.
** Blockchain
Blockchain technology is based on the idea of a distributed ledger.  It is meant to provide trust and security through radical transparency rather than limited access.
Blockchain plays a crucial role in Mesh Market's plan to overcome the inertia keeping local value creation from being released.
*** Smart Contracts
The concept of a smart contract was first formulated in the 90's, but required blockchain technology to achieve practical implementability.  Basically a smart contract is
a contract that can execute itself.  This means that terms and conditions are defined programatically, such that a computer can know how they should be interpreted.
Of course, this limits the contents of the contract what is computationally tractable.  For example, a smart contract may define certain operations being executed when an
account on the blockchain receives a certain amount of funds.
*** Ethereum

* The Mesh Market Platform: DAO, App, Protocol
It may not seem obvious from the above simplistic discussion of smart contracts, but the ability for computers to listen to data and execute transactions on a blockchain enables
an innumerable array of business solutions heretofore unworkable or impractical to be implemented- particularly those based on the idea of turning a traditionally top-down service into a consumer-to-consumer platform.
Decentralized platforms based on blockchain/smart contracts are already being developed across a range of industries (even entire governemnts!), though it is still too early
for average consumers to have noticeably benefited.  The platform business phenomenon and the sharing economy at large, on the other hand, have had a huge impact on what customers expect from the services they use,
and demonstrated the substantial demand for useful peer-to-peer services.

There already exist many ideas and technologies that might do the world good - if only there were a way to get people to adopt them.  We made the case for mesh networking above;
others are making it for renewable energy, vegetarianism, a basic income, and so on.  There is no shortage of good ideas - it's just collective will that stagnates.  The ultimate goal of Mesh
Market is to create a way to incentivize collective behavior that is manifestly positive.  The purpose of the Mesh Market Protocol is to define this behavior.  Finally, the Mesh Market Foundation channels funds into
businesses that seek to implement these solutions, and incentivizes businesses (and people) to use the platform.  Mesh Market the DApp should be thought of as part of this eco-system.

It would be unwise for any business developing in the post-smart contract world to implement an overtly top-down approach to customer relations.  We take very seriously
the idea that whatever can be decentralized will be decentralized as the world awakens to the utility of the Blockchain.  Of course, this includes any aspects of the Mesh Market platform that
are inadvertently top-down or fail to prioritize customers' priorities.  This is why we open the design of the Mesh Market platform to feedback and revision via the Protocol.
The Mesh Market aspires to be the platform to end platforms; to achieve this, there must be built-in mechanisms for self-correction.

*** Case Study: Making Mesh Networks Mass-Market Viable
Now we'll discuss how these principles can apply to promoting mesh networks, which could enable several exciting use-cases for the Mesh Market.

Since the benefits of mesh networks are not immediately apparent to anyone not versed in computer networking, getting people to switch may prove a difficult task unless some
incentive is provided.

OptiPulse's incredible physical layer technology may be enough to provide this incentive alone, if OptiPulse were to follow a strategy of exclusively promoting its mesh network
capabilities.  However, this would be unecessarily prescriptive and possibly counterproductive; a better way to show users the advantages of mesh networks would be to give them
a reason to try it for themselves so that they'd come to understand the benefits through firsthand experience.

With the amount of excess bandwidth the Light Grid may be giving customers, they may be able to get away with sharing (or selling) what they don't use to those around them.
(It might not occur to someone with a 12 Mb/s connection to try this).  In effect, this would make buyers of OptiPulse's internet service their own mini ISP's,
analagous to operators of once-widespread internet cafes.  With some added income from selling bandwidth, OptiPulse's users may be able to break even or even make a profit while
receiving some of the best internet service on the market.

*** Undercutting the Competition
This implies that OptiPulse, as an ISP, might sell internet that comes with a commercial license (or form thereof) to end-users.  While this would give users the ability to resell
service and potentially cut into some of OptiPulse's target market, there would be some overwhelmingly positive side-effects:

- Each customer ultimately connected through an OptiPulse uplink is one fewer customer of an OptiPulse competitor.
- It would be hard to overestimate customer satisfaction with such a deal.  This would grow the network of app users possibly exponentially, and if every transaction is charged a certain amount to go into OptiPulse's "tip jar", this could grow astronomically.
- If OptiPulse wished to prevent any portion of profit whatsoever from being appropriated by end-users, it would be very simple to stipulate in a smart contract that customers can only sell to those out of range of OptiPulse service.  Other schemes have been proposed, such as offering customers the opportunity to become an OptiPulse franchise.

These benefits seem especially appealing considering that Mesh Market can facilitate other types of exchange besides internet service.  Given the rise of companies like
Uber, AirBnB, Craigslist and others -- the services of each of which Mesh Market can replicate -- a general strategy of growing a base network of users and promoting new use-cases
could prove very lucrative.

In the language of Mesh Market, offers translate into smart contracts, which in turn serve as licenses that may be offered by companies acting as users of the platform.  The products/services
of these companies are the driving force behind Mesh Market's various use-cases.  The Mesh Market platform gives these companies free reign over their own contracts, so they are free to test the waters
between the platform and pipelines philosophies.  Minimizing the demand Mesh-Market places on users -- be they large companies or first-time DIY'ers -- ensures that the platform
remains agnostic towards content and inviting to any type of endeavor.

* Application
** Design
One design decision built into Mesh Market is to view users, whether they be they businesses or end consumers, as basically having the same requirements for using the Mesh Market platform. -This creates the possibility of an amorphous market where choices tend to multiply and services improve.  OptiPulse as an ISP that wishes to sell internet service without restrictions on how it does so, and customers as (perhaps equally)
non-restricted entitites that may act as "mini ISP's" in their own right.  Therefore, the most effective design is one that meets the business requirements of the "producers", while making no distinction between them
and consumers of their products.  The core features of the app, described below, are an attempt to create such an
environment.

Mesh networks are inherently friendly to businesses embracing the platform model.  With a decentralized and free communications medium, viable local alternatives to inefficient,
sub-par goods and services can be discovered.  This is how "free markets" are supposed to work; they only free and efficient insofar as information flow is.

Incidentally, this is why there is no paid advertising on the Mesh Market platform.  It is an intentional design decision that the only information users see when looking for offers is
what they decide is relevant to making a good choice.

*** Installation
**** Requirements:
- 1. git
- 2. a running Ethereum client
- 3. CJDNS, for ad-hoc routing
- 4. Clojure, for interfacing with device OS (using Trickle https://github.com/mariusae/trickle)
- 5. a modern web browser
**** Instructions:
- 1. clone the Mesh Market repo:
#+BEGIN_SRC shell
git clone https://github.com/optipulse/mesh-market.git
#+END_SRC
- 2. connect to an Ethereum client locally
- 3. connect to CJDNS
- 4.
#+BEGIN_SRC shell
$ cd mesh-market
$ mesh-market run
#+END_SRC

The Mesh Market Foundation plans to sell minimalist computers in the future specifically for use with Mesh Market.  These will have the software pre-installed,
and come in packaged bundles for specific use-cases (e.g. solar starter kit, ISP starter kit, etc.)

*** Core Features
**** Transaction Sequence Diagram
[[./optipulse-app-transaction.png]]
- 1) Make Offer
Before users have the ability to find internet service near them, other users need to be able to advertise that they have available connections.  The interaction
shown in the above diagram revolves around these two core functions; methods peripheral to these are meant to provide a system of trust to ensure that all parties are satisfied with the transaction.

Making an offer is as simple as filling out a form, which may look something like this:

The submitted data is then made public on the blockchain.  Unlike conventional apps, a decentralized app (DApp) does not require a "back-end" that can be pinned geographically to one server or another.  Instead, all relevant data is saved to the
blockchain and bound to public keys.  These keys may represent a simple account balance, as in the case of Bitcoin, or a complete smart contract.  Data can include important details about offers like names, descriptions, time-restrictions, etc.

- 2) Find Offer
This step involves another class of user, the offer taker, submitting a form to query data on the blockchain.  This is somewhat tricky compared to fetching data from a server where one knows which tables to read data from.  Data stored in the Ethereum blockchain
is included in a smart contract, which is invoked using a public key.  But how can a user find a suitable offer among the multitude living on the blockchain?  Obviously it won't work to query each available offer for satisfactory properties like bandwidth,
price, etc -- this would be very ineffecient, because many of these might be in different cities or countries.  The best solution may be to create a smart contract bound to a geographical area that will
limit queries to only local options, or options within a certain range defined by the user.

This introduces some complications.  Blockchain data is immutable, but offers available to users will be constantly changing.  The most clever way around this is to have the smart contract bound to a geographical area simply
point to the latest version of the area's blockchain, so that queries will be made on up-to-date data.  This creates the illusion that the data users are querying is dynamic, though it is actually immutable.

The latest version of Ethereum has native support for this capability.  Here's an example smart contract meant to relay queries to another that is updateable (borrowed from a Stackoverflow answer http://ethereum.stackexchange.com/questions/2404/upgradeable-contracts):


 #+BEGIN_SRC javascript
contract Relay {
    address public currentVersion;
    address public owner;

    function Relay(address initAddr){
        currentVersion = initAddr;
        owner = msg.sender;
    }

    function update(address newAddress){
        if(msg.sender != owner) throw;
        currentVersion = newAddress;
    }

    function(){
        if(!currentVersion.delegatecall(msg.data)) throw;
    }
 #+END_SRC


- 3) Show Results
Displaying the results to the user is completely straightforward; data retrieved from the blockchain can subsequently be passed to the front-end and may be represented on
a map and/or table that the user can interact with.
- 4) Take Offer
The most important way a user can interact with the offers they find is to take (accept) one of them.  This involves transfering funds to the smart contract the offer represents,
which then tells the offer maker's device to proceed with releasing the consideration.
- 5) Trigger Consideration
With this step, the blockchain informs the offer maker's device that the offer has been accepted and it should now fulfill its part of the contract.
- 6) Trigger Side Effects
Now that the maker's device has received the go-ahead to give consideration, computation may be performed to decide how to go about doing this.  This could hypothetically be as simple
as converting one currency into another, or may be an involved shell script for allocating bandwidth based on the requirements of the contract.
- 7) Send Resources
Once the requisite computation has been performed to send a resource, it may be sent.  This is the only step taking place on the physical layer -- be it a laser sending
messages or a solar panel plus cabel sending power.
- 8) Send Confirmation
The offer taker's device is then triggered to inform the blockchain that consideration was met, and that funds should be released.
- 9) Transfer Funds
Finally, the funds being held by the contract starting at step 4 are released, and the transaction is complete.

*** Basic: GUI
[[./mesh-market-gui.png]]
**** A. Make an Offer
[[./offer.png]]
**** B. Find an Offer
***** TODO add find form
**** C. Wallet
**** D. Protocol: Definining Resource Consumption for the Future

The Mesh Market protocol provides dynamically updated in-app documentation for:
- the features of the app itself
- the contents of offers available in the app

The Mesh Market Foundation will release an initial protocol specification.  Further development of the protocol may be determined democratically by user-submitted
entries, which is handled in a section of the website separate from the app.

A protocol entry is composed of:
- a tag
- a recommendation
- a justification

Each user-submitted protocol entry undergoes vetting before it is added to the Protocol Object, which is a JSON object referenced for dynamic updating of in-app documentation.
Vetting is simple: those entries that receive more upvotes than downvotes are added to the Protocol Object.
***** example protocol entry:

#+BEGIN_SRC json


{"tag1":
  {"upvotes": "",
   "downvotes" : "",
   "recommendation": "",
   "justification": "",
   "children": ["childTag1", "childTag2", ...]
  },
  "tag2":
  {...}
}
#+END_SRC

***** a possible protocol object:

#+BEGIN_SRC json

{"wireless":
  {"upvotes": 15,
   "downvotes": 5,
   "recommendation": "optical",
   "justification" : "more bandwidth, less RF pollution",
   "children": ["optical", "WIFI", "WiGig", ...]
  }
}
#+END_SRC

**** E. Results
***** TODO add results section
**** F. Map
*** Advanced: API
*** Advanced: Embeddable Widget
*** Possible Directions
**** Transactions
***** Meshmarks: A Credit System for Enabling Seemless Interaction with the Blockchain
Offers on the Mesh Market can be paid for in currencies of the offer maker's choosing, as well as in the Mesh Market's own virtual currency, Meshmarks.

Meshmarks enables easy conversion between payment methods.  Users can load credit to their account using PayPal, credit, debit, or a crypto-currency of their choice.

Users are not required to buy Meshmarks to make transactions with one-another, but it does help users using unequal payment methods (e.g. Bitcoin and PayPal) reach one-another.

***** A Possible Cryptocurrency (MMR)
One possibility that should be discussed is the minting of a new crypto-currency to serve as store credit.  As such, it would be bound to the growth of decentralized resources.

** Use Cases
These use cases will be made into tutorials in the future.
*** Internet Service
**** Start an ISP (That Customers Will Actually Like).
- Difficulty: Medium
- Investment:
- Profit:
**** Get Cheaper, Better Internet Service.
- Difficulty: Easy
- Investment: Low
- Profit: N/A
*** Energy
**** Make a Profit on Solar.
- Difficulty: Medium/Hard
- Investment: High
- Profit: High
**** Lower Your Electricity Bills.
*** Agriculture
**** Start an Urban Homestead for Profit and Pleasure.
- Difficulty: Hard
- Investment: High
- Profit: Medium
**** Buy Organic Produce Without Paying out the Wazoo.
- Difficulty: Easy
- Investment: Low
- Profit: N/A
*** Transportation
**** Make a Living Driving.
- Difficulty: Medium
- Investment: Medium/Low (provided you own a car)
- Profit: Medium
**** Get Dinner Delivered
- Difficulty: Easy
- Investment: Low
- Profit: N/A
*** Real Estate
**** Lease a Spare Room in Your House.
- Difficulty: Medium
- Investment: Low/Medium
- Profit: Medium
*** Small Business/Entrepreneurs
**** Add Your Business to the Mesh Market and Reach New Audiences.
- Difficulty: Easy
- Investment: N/A
- Profit: Low/Medium/High
*** City Planners

*** Suggest Another Use Case!
Did we miss something?  Submit a pull request!

** Development TODO's
*** Like to Contribute?
**** Submit Code
If you have a good idea and you're up to implementing it, feel free to submit a pull request.
**** Work with Us
Or, if you're looking for work, we're currently looking for experts in:
- mesh networking
- Blockchain, Ethereum, Bitcoin
- Linux, sysadmin
- web security
- mobile app development

You should also be comfortable with git.

Interested?  Don't hesitate to get in touch:
djoseph@optipulse.com
*** Whitepaper
*** App
**** TODO Base-Site
***** TODO create base site
**** TODO Make Offer
***** DONE add units
***** DONE autocomplete tags from protocol object - jquery
***** TODO autocomplete tags w/ vue component
***** TODO add currency conversions with vue component
***** TODO display date interval in offer preview
***** TODO on enter go to next
***** TODO add focus to input

***** TODO display "next" if input entered, skip if none
***** TODO add multiple locations with component
***** TODO convert offer-preview to view component
**** TODO Protocol
***** TODO add protocol section to base site
***** TODO create protocol form
***** TODO add transition effects to .pro elements
***** TODO update protocol object with wallet tags
**** TODO Wallet
***** TODO add address, password to offer model
***** TODO
**** TODO Find Offer
**** TODO Results
***** TODO
**** TODO Map
***** TODO remove zoom
***** TODO remove mouse interactivity


* The Mesh Market Foundation
** Business Model Canvas
